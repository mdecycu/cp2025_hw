var tipuesearch = {"pages": [{'title': 'About', 'text': 'Repo:  https://github.com/mdecycu/cp2025_hw \xa0(è«‹ä¿®æ”¹ç‚ºæ‚¨çš„ä½œæ¥­å€‰å„²) \n Site:  https://mdecycu.github.io/cp2025_hw \xa0(è«‹ä¿®æ”¹ç‚ºæ‚¨çš„ä½œæ¥­ç¶²ç«™) \n å¯æ”œç¨‹å¼å¥—ä»¶: \n portable_2026.7z \xa0(387MB) \n è§£é–‹å£“ç¸®å¾Œï¼Œé›™é»æ“Š\xa0start_miniconda3.bat å•Ÿå‹•å¯æ”œç³»çµ±ï¼Œé›™é»æ“Š stop.bat é—œé–‰å¯æ”œç³»çµ±ã€‚ \n å¯æ”œç³»çµ±å•Ÿå‹•å¾Œï¼Œåœ¨å‘½ä»¤åˆ—åŸ·è¡Œ conda activate y:\\envs\\cmsimde å¯é€²å…¥èƒ½åŸ·è¡Œ CMSiMDE çš„ç’°å¢ƒã€‚ \n è‹¥å¸Œæœ›å¯æ”œç³»çµ±å•Ÿå‹•ç›´æ¥é€²å…¥ cmsimde ç’°å¢ƒï¼Œå¯å°‡ start_miniconda3.bat æª”æ¡ˆä¸­ç¬¬ 98 è¡Œ: call "%CONDA_ROOT%\\Scripts\\activate.bat" %ENV_NAME% æ›´æ›ç‚º call "%CONDA_ROOT%\\Scripts\\activate.bat" %Disk%:\\envs\\cmsimde \n', 'tags': '', 'url': 'About.html'}, {'title': 'Homework', 'text': 'HW1: \n è«‹å°‡ç¨‹å¼ç¢¼å­˜æ”¾åœ¨å€‹äººä½œæ¥­å€‰å„²ä¸­çš„ python ç›®éŒ„å¾Œï¼Œåˆ©ç”¨ç¨‹å¼é€£çµå®Œæˆä¸‹åˆ—ä»»å‹™: \n around1 ,  around2 ,  around3 ,  around4 \n HW2: \n è«‹ä¿®æ”¹  Brython_robot  ç¨‹å¼ï¼Œè®“æ©Ÿå™¨äººå¯ä»¥æ¡æ°´å¹³å·¡é‚æ–¹å¼ï¼Œèµ°éæ¯ä¸€å€‹å€åŸŸã€‚ \n è«‹ä¿®æ”¹  Brython_robot  ç¨‹å¼ï¼Œè®“æ©Ÿå™¨äººå¯ä»¥æ¡ä¸Šä¸‹å‚ç›´å·¡é‚æ–¹å¼ï¼Œèµ°éæ¯ä¸€å€‹å€åŸŸã€‚ \n HW3: \n è«‹ä¿®æ”¹\xa0 brython_robot4_ex1.py  ç¨‹å¼ï¼Œè®“æ©Ÿå™¨äººå¯ä»¥èˆ‡ æ©Ÿå™¨äººæ”¶å‰²ç¨‹å¼ çš„æ°´å¹³æ¡æ”¶æ–¹å¼ç›¸åŒã€‚ \n è«‹ä¿®æ”¹\xa0 brython_robot4_ex1.py  ç¨‹å¼ï¼Œè®“æ©Ÿå™¨äººå¯ä»¥èˆ‡ æ©Ÿå™¨äººæ”¶å‰²ç¨‹å¼ çš„ä¸Šä¸‹å‚ç›´æ¡æ”¶æ–¹å¼ç›¸åŒã€‚ \n HW4: \n è«‹ä¿®æ”¹\xa0 brython_robot4_ex1.py  ç¨‹å¼ï¼Œè®“æ©Ÿå™¨äººå¯ä»¥èˆ‡ æ©Ÿå™¨äººæ”¶å‰²ç¨‹å¼ çš„æ¡æ”¶èˆ‡æ’­ç¨®æ–¹å¼ç›¸åŒã€‚ \n è«‹ä¿®æ”¹ Pyodide  æ©Ÿå™¨äººè‡ªç”±è¡Œ ç¨‹å¼ï¼Œè®“æ©Ÿå™¨äººå¯ä»¥æ¡æ°´å¹³å·¡é‚æ–¹å¼ï¼Œèµ°éæ¯ä¸€å€‹å€åŸŸã€‚ \n è«‹ä¿®æ”¹ Pyodide  æ©Ÿå™¨äººè‡ªç”±è¡Œ2 ç¨‹å¼ï¼Œè®“æ©Ÿå™¨äººå¯ä»¥æ¡ä¸Šä¸‹å‚ç›´å·¡é‚æ–¹å¼ï¼Œèµ°éæ¯ä¸€å€‹å€åŸŸã€‚ \n \n \n', 'tags': '', 'url': 'Homework.html'}, {'title': 'HW0', 'text': 'è‡ªè¡Œå»ºç«‹ Github å¸³è™Ÿ -\xa0 https://github.com/signup \xa0 \n å–å¾—å€‹äººçš„ä½œæ¥­å€‰å„² - é€é\xa0 https://classroom.github.com \xa0 \n è¨­å®š Github Pages - åˆ©ç”¨ä½œæ¥­å€‰å„²å»ºç«‹ä½œæ¥­ç¶²ç«™ \n å¯ä»¥ç›´æ¥åœ¨ç€è¦½å™¨ä¸Šé€é Reeborgã€Brython æˆ– Pyodide é é¢ï¼Œå­¸ç¿’ Python èªæ³• \n åˆ©ç”¨ Codespaces ç¶­è­·ä½œæ¥­å…§å®¹ -\xa0 https://github.com/codespaces \xa0(å…è²»å¸³è™Ÿæ¯æœˆå¯ä»¥ä½¿ç”¨ 120 coreå°æ™‚ + 15GB å„²å­˜ï¼Œ å­¸ç”Ÿèªè­‰ å¾Œå¯ä½¿ç”¨ 180 coreå°æ™‚ + 20GB å„²å­˜) \n https://docs.github.com/en/billing/managing-billing-for-your-products/about-billing-for-github-codespaces \xa0 \n åˆ©ç”¨å¯æ”œç¨‹å¼ç³»çµ±ç¶­è­·ä½œæ¥­å…§å®¹ \n portable_2026.7z \xa0(387MB) - åœ¨éš¨èº«ç¢Ÿæˆ–å€‹äººé›»è…¦ä¸Šè§£é–‹å£“ç¸®å¾Œä½¿ç”¨ \n è§£é–‹å£“ç¸®å¾Œï¼Œé›™é»æ“Š\xa0start_miniconda3.bat å•Ÿå‹•å¯æ”œç³»çµ±ï¼Œé›™é»æ“Š stop.bat é—œé–‰å¯æ”œç³»çµ±ã€‚ \n å¯æ”œç³»çµ±å•Ÿå‹•å¾Œï¼Œåœ¨å‘½ä»¤åˆ—åŸ·è¡Œ conda activate y:\\envs\\cmsimde å¯é€²å…¥èƒ½åŸ·è¡Œ CMSiMDE çš„ç’°å¢ƒã€‚ \n è‹¥å¸Œæœ›å¯æ”œç³»çµ±å•Ÿå‹•ç›´æ¥é€²å…¥ cmsimde ç’°å¢ƒï¼Œå¯å°‡ start_miniconda3.bat æª”æ¡ˆä¸­ç¬¬ 98 è¡Œ: call "%CONDA_ROOT%\\Scripts\\activate.bat" %ENV_NAME% æ›´æ›ç‚º call "%CONDA_ROOT%\\Scripts\\activate.bat" %Disk%:\\envs\\cmsimde \n Python ç¨‹å¼æ•™æ \n ä½¿ç”¨ Reeborg å­¸ç¿’ Python:\xa0 https://mde.tw/cp2025/content/Reeborg.html \xa0 \n ä½¿ç”¨ Brython å­¸ç¿’ Python:\xa0 https://mde.tw/cp2025/content/Brython.html \xa0 \n ä½¿ç”¨ Pyodide å­¸ç¿’ Python:\xa0 https://mde.tw/cp2025/content/Pyodide.html \xa0 \n æ©Ÿæ¢°è¨­è¨ˆå·¥ç¨‹å¸«å­¸ç¿’ Python åšç”šéº¼? - è«‹è‡ªè¡Œ åˆ©ç”¨ ChatGPT æå• \n \xa0 \xa0\xa0 \n \n \n \n', 'tags': '', 'url': 'HW0.html'}, {'title': 'HW1', 'text': 'è«‹å°‡ç¨‹å¼ç¢¼å­˜æ”¾åœ¨å€‹äººä½œæ¥­å€‰å„²ä¸­çš„ python ç›®éŒ„å¾Œï¼Œåˆ©ç”¨ç¨‹å¼é€£çµå®Œæˆä¸‹åˆ—ä»»å‹™: \n around1 ,  around2 ,  around3 ,  around4 \n \n', 'tags': '', 'url': 'HW1.html'}, {'title': 'HW2', 'text': 'è«‹ä¿®æ”¹  Brython_robot  ç¨‹å¼ï¼Œè®“æ©Ÿå™¨äººå¯ä»¥æ¡æ°´å¹³å·¡é‚æ–¹å¼ï¼Œèµ°éæ¯ä¸€å€‹å€åŸŸã€‚ \n è«‹ä¿®æ”¹  Brython_robot  ç¨‹å¼ï¼Œè®“æ©Ÿå™¨äººå¯ä»¥æ¡ä¸Šä¸‹å‚ç›´å·¡é‚æ–¹å¼ï¼Œèµ°éæ¯ä¸€å€‹å€åŸŸã€‚ \n \n \n', 'tags': '', 'url': 'HW2.html'}, {'title': 'HW3', 'text': 'è«‹ä¿®æ”¹\xa0 brython_robot4_ex1.py  ç¨‹å¼ï¼Œè®“æ©Ÿå™¨äººå¯ä»¥èˆ‡ æ©Ÿå™¨äººæ”¶å‰²ç¨‹å¼ çš„æ°´å¹³æ¡æ”¶æ–¹å¼ç›¸åŒã€‚ \n è«‹ä¿®æ”¹\xa0 brython_robot4_ex1.py  ç¨‹å¼ï¼Œè®“æ©Ÿå™¨äººå¯ä»¥èˆ‡ æ©Ÿå™¨äººæ”¶å‰²ç¨‹å¼ çš„ä¸Šä¸‹å‚ç›´æ¡æ”¶æ–¹å¼ç›¸åŒã€‚ \n \n', 'tags': '', 'url': 'HW3.html'}, {'title': 'HW4', 'text': 'è«‹ä¿®æ”¹\xa0 brython_robot4_ex1.py  ç¨‹å¼ï¼Œè®“æ©Ÿå™¨äººå¯ä»¥èˆ‡ æ©Ÿå™¨äººæ”¶å‰²ç¨‹å¼ çš„æ¡æ”¶èˆ‡æ’­ç¨®æ–¹å¼ç›¸åŒã€‚ \n è«‹ä¿®æ”¹ Pyodide  æ©Ÿå™¨äººè‡ªç”±è¡Œ ç¨‹å¼ï¼Œè®“æ©Ÿå™¨äººå¯ä»¥æ¡æ°´å¹³å·¡é‚æ–¹å¼ï¼Œèµ°éæ¯ä¸€å€‹å€åŸŸã€‚ \n è«‹ä¿®æ”¹ Pyodide  æ©Ÿå™¨äººè‡ªç”±è¡Œ2 ç¨‹å¼ï¼Œè®“æ©Ÿå™¨äººå¯ä»¥æ¡ä¸Šä¸‹å‚ç›´å·¡é‚æ–¹å¼ï¼Œèµ°éæ¯ä¸€å€‹å€åŸŸã€‚ \n', 'tags': '', 'url': 'HW4.html'}, {'title': 'Brython', 'text': '1 add to 100 æ©Ÿå™¨äººå·¡é‚ è‡ªç”±è¡Œ \n  å°å…¥ brython ç¨‹å¼åº«  \n \n \n \n \n  å•Ÿå‹• Brython  \n \n \n \n  å°å…¥ FileSaver èˆ‡ filereader  \n \n \n \n \n  å°å…¥ ace  \n \n \n \n \n \n \n  å°å…¥ gearUtils-0.9.js Cango é½’è¼ªç¹ªåœ–ç¨‹å¼åº«  \n \n \n \n \n \n \n  è«‹æ³¨æ„, é€™è£¡ä½¿ç”¨ Javascript å°‡ localStorage["kw_py_src1"] ä¸­å­˜åœ¨è¿‘ç«¯ç€è¦½å™¨çš„ç¨‹å¼ç¢¼, ç”±ä½¿ç”¨è€…æ±ºå®šå­˜æª”åç¨± \n \n \n \n  ç´¯åŠ ç¨‹å¼é–‹å§‹  \n \n  ç´¯åŠ ç¨‹å¼çµæŸ     æ©Ÿå™¨äººå·¡é‚ç¨‹å¼é–‹å§‹  \n \n  æ©Ÿå™¨äººå·¡é‚ç¨‹å¼çµæŸ  \n  æ©Ÿå™¨äººè‡ªç”±è¡Œç¨‹å¼é–‹å§‹  \n \n \n \n  æ©Ÿå™¨äººè‡ªç”±è¡Œç¨‹å¼çµæŸ  \n  add 1 to 100 é–‹å§‹  \n \n \n  add 1 to 100 çµæŸ \n  editor1 é–‹å§‹  \n  ç”¨ä¾†é¡¯ç¤ºç¨‹å¼ç¢¼çš„ editor å€åŸŸ  \n \n  ä»¥ä¸‹çš„è¡¨å–®èˆ‡æŒ‰éˆ•èˆ‡å‰é¢çš„ Javascript doSave å‡½å¼ä»¥åŠ FileSaver.min.js äº’ç›¸é…åˆ  \n  å­˜æ“‹è¡¨å–®é–‹å§‹  \n Filename:  .py   \n  å­˜æ“‹è¡¨å–®çµæŸ  \n \n  åŸ·è¡Œèˆ‡æ¸…é™¤æŒ‰éˆ•é–‹å§‹  \n Run   Output   æ¸…é™¤è¼¸å‡ºå€ æ¸…é™¤ç¹ªåœ–å€ Reload \n  åŸ·è¡Œèˆ‡æ¸…é™¤æŒ‰éˆ•çµæŸ  \n \n  ç¨‹å¼åŸ·è¡Œ ouput å€  \n \n  Brython ç¨‹å¼åŸ·è¡Œçš„çµæœ, éƒ½ä»¥ brython_div1 ä½œç‚ºåˆ‡å…¥ä½ç½®  \n \n  editor1 çµæŸ   ##########################################  \n å¾ 1 ç´¯åŠ åˆ° 100 part2: \n 1 add to 100 cango_three_gears BSnake AI Tetris \n  è«‹æ³¨æ„, é€™è£¡ä½¿ç”¨ Javascript å°‡ localStorage["kw_py_src2"] ä¸­å­˜åœ¨è¿‘ç«¯ç€è¦½å™¨çš„ç¨‹å¼ç¢¼, ç”±ä½¿ç”¨è€…æ±ºå®šå­˜æª”åç¨± \n \n \n \n  add 1 to 100 part2 é–‹å§‹  \n \n \n  add 1 to 100 part2 çµæŸ \n  editor2 é–‹å§‹  \n  ç”¨ä¾†é¡¯ç¤ºç¨‹å¼ç¢¼çš„ editor å€åŸŸ  \n \n  ä»¥ä¸‹çš„è¡¨å–®èˆ‡æŒ‰éˆ•èˆ‡å‰é¢çš„ Javascript doSave å‡½å¼ä»¥åŠ FileSaver.min.js äº’ç›¸é…åˆ  \n  å­˜æ“‹è¡¨å–®é–‹å§‹  \n Filename:  .py   \n  å­˜æ“‹è¡¨å–®çµæŸ  \n \n  åŸ·è¡Œèˆ‡æ¸…é™¤æŒ‰éˆ•é–‹å§‹  \n Run   Output   æ¸…é™¤è¼¸å‡ºå€ æ¸…é™¤ç¹ªåœ–å€ Reload \n  åŸ·è¡Œèˆ‡æ¸…é™¤æŒ‰éˆ•çµæŸ  \n \n  ç¨‹å¼åŸ·è¡Œ ouput å€  \n \n  Brython ç¨‹å¼åŸ·è¡Œçš„çµæœ, éƒ½ä»¥ brython_div1 ä½œç‚ºåˆ‡å…¥ä½ç½®  \n \n  editor2 çµæŸ  \n \n', 'tags': '', 'url': 'Brython.html'}, {'title': 'Brython_ex', 'text': 'æ©Ÿå™¨äººè‡ªç”±è¡Œ \n Can we bring pythonpad into this page?\xa0 https://pythonpad.github.io/docs/manual.html \xa0 \n from browser import document, html, timer\n \ncanvas = html.CANVAS(width=400, height=400)\nbrython_div = document["brython_div1"]\nbrython_div <= canvas\nctx = canvas.getContext("2d")\n \ndef draw_grid():\n    ctx.clearRect(0, 0, 400, 400)\n    ctx.strokeStyle = "#ccc"\n    ctx.lineWidth = 1\n    for i in range(0, 401, 40):\n        ctx.beginPath()\n        ctx.moveTo(i, 0)\n        ctx.lineTo(i, 400)\n        ctx.stroke()\n        ctx.beginPath()\n        ctx.moveTo(0, i)\n        ctx.lineTo(400, i)\n        ctx.stroke()\n    \n    # ç•«å‡ºé‚Šç•Œ\n    ctx.strokeStyle = "black"\n    ctx.lineWidth = 2\n    ctx.strokeRect(0, 0, 400, 400)\n\ndef draw_robot(x, y):\n    draw_grid()\n    ctx.fillStyle = "blue"\n    ctx.beginPath()\n    ctx.arc(x * 40 + 20, y * 40 + 20, 15, 0, 6.28)\n    ctx.fill()\n\nx, y = 0, 0\ndef move():\n    global x\n    x = (x + 1) % 10\n    draw_robot(x, y)\n\ndraw_grid()\ntimer.set_interval(move, 500) \n ä»¥ä¸‹ç¨‹å¼, æŒ‰ j éš¨ç®­é ­æ–¹å‘å‰é€², æŒ‰ä¸‹ i å‰‡å·¦è½‰ \n from browser import document, html, bind\n\ncanvas = html.CANVAS(width=400, height=400)\nbrython_div = document["brython_div1"]\nbrython_div <= canvas\nctx = canvas.getContext("2d")\n\ncols, rows = 10, 10\ncell = 40\n\n# ä¸Šã€å³ã€ä¸‹ã€å·¦\ndirections = [(0, -1), (1, 0), (0, 1), (-1, 0)]\n\nrobot = {\n    "x": 5,\n    "y": 5,\n    "dir": 0  # åˆå§‹æœå‘ä¸Š\n}\n\ndef draw_grid():\n    ctx.clearRect(0, 0, 400, 400)\n    ctx.strokeStyle = "#ccc"\n    ctx.lineWidth = 1\n    for i in range(0, 401, cell):\n        ctx.beginPath()\n        ctx.moveTo(i, 0)\n        ctx.lineTo(i, 400)\n        ctx.stroke()\n        ctx.beginPath()\n        ctx.moveTo(0, i)\n        ctx.lineTo(400, i)\n        ctx.stroke()\n    ctx.strokeStyle = "black"\n    ctx.lineWidth = 2\n    ctx.strokeRect(0, 0, 400, 400)\n\ndef draw_robot():\n    draw_grid()\n    cx = robot["x"] * cell + cell // 2\n    cy = robot["y"] * cell + cell // 2\n    size = 15\n    d = robot["dir"]\n\n    ctx.fillStyle = "blue"\n    ctx.beginPath()\n    if d == 0:  # ä¸Š\n        ctx.moveTo(cx, cy - size)\n        ctx.lineTo(cx - size, cy + size)\n        ctx.lineTo(cx + size, cy + size)\n    elif d == 1:  # å³\n        ctx.moveTo(cx + size, cy)\n        ctx.lineTo(cx - size, cy - size)\n        ctx.lineTo(cx - size, cy + size)\n    elif d == 2:  # ä¸‹\n        ctx.moveTo(cx, cy + size)\n        ctx.lineTo(cx - size, cy - size)\n        ctx.lineTo(cx + size, cy - size)\n    elif d == 3:  # å·¦\n        ctx.moveTo(cx - size, cy)\n        ctx.lineTo(cx + size, cy - size)\n        ctx.lineTo(cx + size, cy + size)\n    ctx.closePath()\n    ctx.fill()\n\n@bind(document, "keydown")\ndef on_key(e):\n    key = e.key.lower()\n    if key == "i":\n        robot["dir"] = (robot["dir"] - 1) % 4  # å·¦è½‰\n    elif key == "j":\n        dx, dy = directions[robot["dir"]]\n        nx = robot["x"] + dx\n        ny = robot["y"] + dy\n        if 0 <= nx < cols and 0 <= ny < rows:\n            robot["x"] = nx\n            robot["y"] = ny\n    draw_robot()\n\ndraw_robot() \n Optimization: \n é¡Œç›®: ä¸€ä½è£½é€ å•†æƒ³è¨­è¨ˆä¸€å€‹é–‹å£å¼çš„ç›’å­ï¼Œå…¶åº•éƒ¨ç‚ºé•·æ–¹å½¢ï¼Œå¯¬ç‚º xã€é•·ç‚º yï¼Œä¸”ç¸½è¡¨é¢ç©ç‚º 80 å¹³æ–¹å…¬åˆ†ã€‚ è«‹å•è¦ä½¿ç›’å­çš„é«”ç©é”åˆ°æœ€å¤§ï¼Œæ‡‰è©²é¸ç”¨å“ªäº›å°ºå¯¸ï¼Ÿ \n ç›´æ¥åˆ©ç”¨ Python ä»¥  Differential Evoluation  é‹ç®—:\xa0 de_volume_max.py \n åƒè€ƒ:\xa0 \n de_volume_max.c \n ä¹Ÿå¯ä»¥æ¡ç¶²é å‰ç«¯ä½¿ç”¨ Brythonï¼Œå¾Œç«¯æ¡ Python åŸ·è¡Œé‹ç®—å¾Œå°‡è³‡æ–™å‚³å›ç¶²é :\xa0 brython_w_flask.7z \n', 'tags': '', 'url': 'Brython_ex.html'}, {'title': 'Ref', 'text': '', 'tags': '', 'url': 'Ref.html'}, {'title': 'Reeborg', 'text': 'https://mde.tw/cp2025/reeborg?lang=en&mode=python&menu=worlds/menus/select_collection_en.json&name=Alone&url=worlds/tutorial_en/harvest1.json&editor=python/harvest1.py \n https://mde.tw/cp2025/reeborg?lang=en&mode=python&menu=worlds/menus/select_collection_en.json&name=Alone&url=worlds/tutorial_en/harvest1.json&editor=python/harvest1_east_west.py \xa0 \n \n https://mde.tw/reeborg \n https://github.com/mdecycu/cs101 \n https://reeborg.ca/docs/en/python/index.html \n https://aroberge.github.io/reeborg-api/ \n if using local static port 9442: \n Reeborg \n For Github Pages: \n Reeborg \n \n', 'tags': '', 'url': 'Reeborg.html'}, {'title': 'ex1', 'text': 'https://mde.tw/cp2025/reeborg?lang=en&mode=python&menu=worlds/menus/select_collection_en.json&name=Alone&url=worlds/tutorial_en/harvest1.json&editor=python/harvest1.py \xa0æ˜¯å·²çŸ¥çš„æ©Ÿå™¨äººæ¡æ”¶ç´…è˜¿è””çš„ç¨‹å¼ï¼Œç¶“ç”±ä»¥ä¸‹èˆ‡ Copilot çš„å°è©±ï¼Œå¸Œæœ›é€é Python Class çš„ç·¨å¯«è§£æ±ºç‰¹å®šç¯„åœè¾²ä½œç‰©æ¡æ”¶çš„ç¨‹å¼ã€‚ \n å•å¥: \n ä»¥ä¸‹æ˜¯ Reeborg ä¸€å€‹ç”¨ä¾†æ¡æ”¶ç´…è˜¿è””çš„ç¨‹å¼, ç›®å‰ä½æ–¼ (3,3) åˆ° (8,8) çš„å€åŸŸä¸­å„åº§æ¨™é», å„æœ‰ä¸€å€‹ç´…ç¾…è””ç­‰å¾…æ¡æ”¶, ç¾åœ¨æƒ³è¦å»ºç«‹ä¸€å€‹ harvest() class, å¯ä»¥åˆ©ç”¨ (3,3), (8,8)ä½œç‚ºæ¨™å®šæœ‰è¾²ä½œç‰©å¿…é ˆæ¡æ”¶çš„å…©å€‹å€åŸŸå°è§’é»åº§æ¨™, è€Œç¨‹å¼å¯ä»¥åˆ©ç”¨æ­¤ä¸€ harvest é¡åˆ¥ç”Ÿæˆæ¡ˆä¾‹å®Œæˆæ¡æ”¶çš„ä»»å‹™: def turn(int):\n    for i in range(int):\n        turn_left()\n        \ndef new_move(int):\n    for i in range(int):\n        move()\n        \ndef harvest_one_row():\n    while object_here():\n        take()\n    else:\n        move()\n# move to the field\nnew_move(2)\nturn_left()\nnew_move(2)\n\nfor i in range(3):\n    while is_facing_north():\n        for i in range(6):\n            harvest_one_row()\n        for i in range(2):\n            turn(3)\n            move() \n    else:\n        for i in range(6):\n            harvest_one_row()\n        for i in range(2):\n            turn_left()\n            move() \n AI å›ç­”:\xa0 https://mde.tw/cp2025/reeborg?lang=en&mode=python&menu=worlds/menus/select_collection_en.json&name=Alone&url=worlds/tutorial_en/harvest1.json&editor=python/harvest1_class_ex1.py \xa0 \n é€²ä¸€æ­¥è¦æ±‚: \n è«‹åœ¨é¡åˆ¥ä¸­åŠ ä¸Šä¸€å€‹æ¡æ”¶æ–¹å‘çš„åƒæ•¸, å…§å»ºè®Šæ•¸æ˜¯ horizontal æ¡æ”¶, ä¹Ÿå°±æ˜¯ç”±è¥¿é‚Šå¾€æ±é‚Šçš„æ°´å¹³æ–¹å‘é€²è¡Œæ¡æ”¶, ä½†è‹¥è©²æ–¹å‘è®Šæ•¸è¨­ç‚º vertical å‰‡æœƒç”±å—é‚Šå¾€åŒ—çš„æ‰€è¬‚å‚ç›´æ–¹å‘é€²è¡Œæ¡æ”¶ \n AI å›æ‡‰:\xa0 https://mde.tw/cp2025/reeborg?lang=en&mode=python&menu=worlds/menus/select_collection_en.json&name=Alone&url=worlds/tutorial_en/harvest1.json&editor=python/harvest1_class_ex2.py\xa0 \xa0 \n å»¶ä¼¸åˆ°æ¡æ”¶ harvest2 è¾²ç”°:\xa0 https://mde.tw/cp2025/reeborg/?lang=en&mode=python&menu=worlds/menus/select_collection_en.json&name=Alone&url=worlds/tutorial_en/harvest2.json&editor=python/harvest1_class_ex1.py \xa0 \n ä½†å»æ²’èƒ½å¥—ç”¨åˆ° harvest3 è¾²ç”°:\xa0 https://mde.tw/cp2025/reeborg/?lang=en&mode=python&menu=worlds/menus/select_collection_en.json&name=Alone&url=worlds/tutorial_en/harvest3.json&editor=python/harvest1_class_ex1.py \xa0 \n è€Œå¿…é ˆè¦åœ¨æ¯ä¸€å€‹åº§æ¨™é»ç•™ä¸‹æˆ–æ”¾å…¥ä¸€å€‹ç´…è˜¿è””:\xa0 https://mde.tw/cp2025/reeborg/?lang=en&mode=python&menu=worlds/menus/select_collection_en.json&name=Alone&url=worlds/tutorial_en/harvest3.json&editor=python/harvest1_class_ex3.py\xa0 \xa0 \n', 'tags': '', 'url': 'ex1.html'}, {'title': 'Otto_ninja', 'text': 'https://www.printables.com/model/231580-otto-ninja-starter-robot/files \xa0 \n \n', 'tags': '', 'url': 'Otto_ninja.html'}, {'title': 'Pyodide', 'text': 'Pyodide  æ˜¯ä¸€å€‹å°‡  Python  è§£è­¯å™¨å’Œå¸¸ç”¨ç§‘å­¸å¥—ä»¶ (ä¾‹å¦‚:  numpy ã€ scipy ã€ matplotlib \xa0ç­‰) ç·¨è­¯æˆ  WebAssembly ï¼Œå¯åœ¨ç€è¦½å™¨ä¸­åŸ·è¡Œ  Python \xa0ç¨‹å¼çš„å°ˆæ¡ˆã€‚ \n Pyodide  æ˜¯å°‡  CPython  ç·¨è­¯ç‚º  WebAssembly ï¼Œå¯åœ¨ç€è¦½å™¨æˆ–å…¶ä»–  WebAssembly  ç’°å¢ƒä¸­åŸ·è¡Œï¼›è€Œ  CPython  æ˜¯æ¨™æº–çš„åŸç”Ÿ  Python  è§£è­¯å™¨ï¼Œé‹è¡Œåœ¨ä½œæ¥­ç³»çµ±ä¸Šã€‚æ›è¨€ä¹‹ï¼Œ Pyodide  æ˜¯ç‚ºåœ¨ç€è¦½å™¨ä¸­åŸ·è¡Œ  Python  è€Œè¨­è¨ˆçš„  CPython  ç§»æ¤ç‰ˆæœ¬ã€‚ Pyodide \xa0å¯èˆ‡  JavaScript  é›™å‘äº’å‹•ï¼Œè®“  Python  ç¨‹å¼èƒ½å‘¼å«  JavaScript  å‡½æ•¸ä¸¦æ“ä½œç¶²é å…ƒç´ ï¼Œä¹Ÿèƒ½è¢«  JavaScript  å‘¼å«åŸ·è¡Œ  Python  ç¨‹å¼ç¢¼ã€‚ \n \n \n \n version   hello   1 add to 100   æ©Ÿå™¨äººå·¡é‚ è‡ªç”±è¡Œ   numpy_ode \n  Ace Editor Scripts  \n \n \n \n \n \n \n \n \n  Editor 1  \n \n Run   Output   æ¸…é™¤è¼¸å‡ºå€   Reload \n \n \n \n \n \n å¾ 1 ç´¯åŠ åˆ° 100 part2: \n 1 add to 100 \n  Editor 2  \n \n Run   Output   æ¸…é™¤è¼¸å‡ºå€   Reload \n \n \n \n \n \n \n \n', 'tags': '', 'url': 'Pyodide.html'}, {'title': 'Pyodide_ex', 'text': 'Pyodide æ©Ÿå™¨äººå·¡é‚ \xa0- ç”±æ–¼ç¶²é è¼‰å…¥å ´æ™¯åœç‰†èˆ‡ Pyodide åŸ·è¡Œæ©Ÿå™¨äººè¡Œèµ°æ¨¡æ“¬çš„é€Ÿåº¦å·®ç•°ï¼Œæ©Ÿå™¨äººå·¡é‚ç•«é¢çš„åœç‰†ç„¡æ³•åŠæ™‚é¡¯ç¤ºã€‚ \n ç¶“éå ´æ™¯åœç‰†å¤šæ¬¡ (ç›®å‰ç‚º 3 æ¬¡) è¼‰å…¥ (å¿…é ˆé…åˆç€è¦½å™¨ Client ç«¯åŸ·è¡Œé€Ÿåº¦èˆ‡ç¶²è·¯å‚³è¼¸é€Ÿåº¦é€²è¡Œèª¿æ•´)ï¼Œ Pyodide æ©Ÿå™¨äººå·¡é‚2  å¯ä»¥æ­£ç¢ºè¼‰å…¥åœç‰†åœ–æª”ã€‚ \n Pyodide å°å…¥å®¢è£½åŒ–æ¨¡çµ„: \n const code = `\n# å®šç¾©ä¸€å€‹æ¨¡çµ„å…§å®¹\ndef hello():\n    print("Hello from custom module!")\n`;\npyodide.runPython(code);\n \n Volume_max_pyodide_de_short.py \n Volume_max_pyodide_de.py \n \n', 'tags': '', 'url': 'Pyodide_ex.html'}, {'title': 'Pyodide2', 'text': 'Pyodide2 åœ¨é é¢ä¸­å°å…¥  robot.py \xa0(è¨»è§£ç‰ˆ:  pyodide_robot_commented.py ) å¾Œï¼Œå¯ä»¥ç›´æ¥åœ¨é é¢ç·¨è¼¯å™¨ä¸­ï¼Œç›´æ¥åˆ©ç”¨ walk() èˆ‡ turn_left() å…©å€‹æ–¹æ³•ï¼Œå¼•å° æ©Ÿå™¨äººå‰è¡Œèˆ‡å·¦è½‰ ã€‚ä¹Ÿå¯ä»¥åœ¨ç·¨è¼¯å™¨ä¸­è‡ªè¡Œ å®šç¾©å³è½‰æ–¹æ³• ï¼Œè³¦äºˆæ©Ÿå™¨äººæ›´å¤šåŠŸèƒ½ã€‚ \n \n \n \n version   hello   1 add to 100   æ©Ÿå™¨äººå·¡é‚   è‡ªç”±è¡Œ   numpy_ode \n  Ace Editor Scripts  \n \n \n \n \n \n \n \n \n  Editor 1  \n \n Run   Output   æ¸…é™¤è¼¸å‡ºå€   Reload \n \n \n \n \n \n å¾ 1 ç´¯åŠ åˆ° 100 part2: \n 1 add to 100 \n  Editor 2  \n \n Run   Output   æ¸…é™¤è¼¸å‡ºå€   Reload \n \n \n \n \n \n \n \n', 'tags': '', 'url': 'Pyodide2.html'}, {'title': 'robot.py', 'text': 'robot.py \n ç¬¬ä¸€æ®µï¼šæ¨¡çµ„åŒ¯å…¥èˆ‡å¸¸æ•¸å®šç¾© \n js æ˜¯ Brython æä¾›çš„ JS-Python æ©‹æ¥æ¨¡çµ„ï¼Œå¯ç›´æ¥æ“ä½œ JavaScript DOMã€‚ asyncio æ˜¯ Python çš„éåŒæ­¥è™•ç†æ¨¡çµ„ï¼Œç”¨ä¾†è®“å‹•ç•«éåŒæ­¥é€²è¡Œã€‚ CELL_SIZE è¨­å®šåœ°åœ–ä¸­æ¯å€‹æ ¼å­çš„å¤§å°ï¼ˆ40px Ã— 40pxï¼‰ã€‚ WALL_THICKNESS æ˜¯ç”¨æ–¼ç¹ªè£½ç‰†å£çš„ç·šæ¢åšåº¦ã€‚ IMG_PATH æ˜¯å„²å­˜æ‰€æœ‰åœ–ç‰‡çš„ä¼ºæœå™¨è·¯å¾‘ï¼ˆç”¨æ–¼è¼‰å…¥ç‰†å£èˆ‡æ©Ÿå™¨äººåœ–ï¼‰ã€‚ \n import js, asyncio\n\n# æ¯å€‹æ ¼å­çš„åƒç´ å¯¬åº¦\nCELL_SIZE = 40\n\n# ç‰†å£çš„åšåº¦ï¼ˆåƒç´ ï¼‰\nWALL_THICKNESS = 6\n\n# åœ–ç‰‡è³‡æºçš„ç¶²å€å‰ç¶´\nIMG_PATH = "https://mde.tw/cp2025/reeborg/src/images/"\n \n ç¬¬äºŒæ®µï¼šWorld é¡åˆ¥ â€“ å»ºç«‹ä¸–ç•Œèˆ‡åœ°åœ–åœ–å±¤ \n World é¡è² è²¬å»ºç«‹æ•´å€‹åœ°åœ–ç•«é¢ï¼Œä¸¦åˆå§‹åŒ–æ‰€éœ€çš„ç•«å¸ƒåœ–å±¤ã€‚ _image_cache æ˜¯é¡åˆ¥å±¤ç´šè®Šæ•¸ï¼Œç”¨ä¾†å¿«å–åœ–ç‰‡ç‰©ä»¶ã€‚ \n class World:\n    _image_cache = {}  # ç”¨ä¾†æš«å­˜è¼‰å…¥éçš„åœ–ç‰‡ï¼Œé¿å…é‡è¤‡ä¸‹è¼‰\n\n    def __init__(self, width, height):\n        self.width = width     # åœ°åœ–å¯¬ï¼ˆå¹¾æ ¼ï¼‰\n        self.height = height   # åœ°åœ–é«˜ï¼ˆå¹¾æ ¼ï¼‰\n        self.layers = self._create_layers()  # å»ºç«‹å››å€‹ canvas åœ–å±¤\n        self._init_html()      # å°‡åœ–å±¤èˆ‡æ§åˆ¶æŒ‰éˆ•åŠ åˆ° HTML ç•«é¢\n \n ç¬¬ä¸‰æ®µï¼šå»ºç«‹åœ–å±¤ \n é€™äº›åœ–å±¤éƒ½æ˜¯ canvas å…ƒç´ ï¼Œå½¼æ­¤é‡ç–Šåœ¨ä¸€èµ·ï¼Œä¾åºç¹ªè£½åœ°åœ–ã€‚ \n     def _create_layers(self):\n        return {\n            "grid": js.document.createElement("canvas"),    # ç¶²æ ¼åº•åœ–\n            "walls": js.document.createElement("canvas"),   # ç‰†å£\n            "objects": js.document.createElement("canvas"), # ç—•è·¡/ç‰©ä»¶\n            "robots": js.document.createElement("canvas"),  # æ©Ÿå™¨äºº\n        }\n \n ç¬¬å››æ®µï¼šåˆå§‹åŒ– HTML çµæ§‹ \n å»ºç«‹ä¸€å€‹ container å®¹å™¨ï¼Œè¨­å®šç‚ºç›¸å°å®šä½ã€‚ å°‡å››å±¤ canvas ç–Šæ”¾é€²å®¹å™¨ä¸­ï¼Œæ¯å±¤ç”¨ä¸åŒçš„ zIndex ç–Šå±¤æ’åºã€‚ \n     def _init_html(self):\n        container = js.document.createElement("div")\n        container.style.position = "relative"\n        container.style.width = f"{self.width * CELL_SIZE}px"\n        container.style.height = f"{self.height * CELL_SIZE}px"\n\n        for z, canvas in enumerate(self.layers.values()):\n            canvas.width = self.width * CELL_SIZE\n            canvas.height = self.height * CELL_SIZE\n            canvas.style.position = "absolute"\n            canvas.style.top = "0px"\n            canvas.style.left = "0px"\n            canvas.style.zIndex = str(z)\n            container.appendChild(canvas)\n \n ç¬¬äº”æ®µï¼šå»ºç«‹æ§åˆ¶æŒ‰éˆ•ä¸¦åŠ å…¥ç•«é¢ \n å»ºç«‹å…©å€‹æŒ‰éˆ•ï¼šã€Œå‰é€²ã€èˆ‡ã€Œå·¦è½‰ã€ã€‚ è¨­å®šç¾è§€çš„æ¨£å¼ï¼ˆå…§é‚Šè·ã€å­—é«”å¤§å°ç­‰ï¼‰ã€‚ \n         button_container = js.document.createElement("div")\n        button_container.style.marginTop = "10px"\n        button_container.style.textAlign = "center"\n\n        move_button = js.document.createElement("button")\n        move_button.innerHTML = "Move Forward"\n        move_button.style.margin = "5px"\n        move_button.style.padding = "10px 20px"\n        move_button.style.fontSize = "16px"\n        button_container.appendChild(move_button)\n\n        turn_button = js.document.createElement("button")\n        turn_button.innerHTML = "Turn Left"\n        turn_button.style.margin = "5px"\n        turn_button.style.padding = "10px 20px"\n        turn_button.style.fontSize = "16px"\n        button_container.appendChild(turn_button)\n \n \xa0ç¬¬å…­æ®µï¼šæ›è¼‰é€² HTML èˆ‡æŒ‰éˆ•ç¶å®š \n å°‡ç•«é¢æ›è¼‰åˆ° HTML ä¸­çš„ brython_div1 å…ƒç´ å…§ã€‚ åŒæ™‚è¨˜éŒ„å…©å€‹æŒ‰éˆ•åˆ° self.move_buttonã€self.turn_button å±¬æ€§ï¼Œä»¥ä¾¿ä¹‹å¾Œç¶å®šäº‹ä»¶ \n         brython_div = js.document.getElementById("brython_div1")\n        if not brython_div:\n            raise RuntimeError("ğŸš¨ \'brython_div1\' element not found in HTML!")\n        brython_div.innerHTML = ""\n        brython_div.appendChild(container)\n        brython_div.appendChild(button_container)\n\n        self.move_button = move_button\n        self.turn_button = turn_button\n \n ç¬¬ä¸ƒæ®µï¼šç¹ªè£½åœ°åœ–ç¶²æ ¼ç·šï¼ˆgridï¼‰ \n é€™æ®µç¨‹å¼æœƒç•«å‡ºåœ°åœ–çš„æ ¼ç·šï¼Œå½¢æˆæ£‹ç›¤ç‹€çš„ç¶²æ ¼ã€‚ æ¯æ ¼å¤§å°ç‚º CELL_SIZE = 40 åƒç´ ã€‚ æ ¼ç·šåªæ˜¯è¦–è¦ºè¼”åŠ©ï¼Œæ²’æœ‰ç¢°æ’ä½œç”¨ã€‚ \n     def _draw_grid(self):\n        ctx = self.layers["grid"].getContext("2d")  # å–å¾—ç¶²æ ¼åœ–å±¤çš„ç¹ªåœ–ä¸Šä¸‹æ–‡\n        ctx.strokeStyle = "#cccccc"  # è¨­å®šç·šæ¢é¡è‰²ç‚ºæ·¡ç°è‰²\n\n        # å‚ç›´ç·šï¼ˆæ¯åˆ—æ ¼ç·šï¼‰\n        for i in range(self.width + 1):\n            ctx.beginPath()\n            ctx.moveTo(i * CELL_SIZE, 0)\n            ctx.lineTo(i * CELL_SIZE, self.height * CELL_SIZE)\n            ctx.stroke()\n\n        # æ°´å¹³ç·šï¼ˆæ¯æ¬„æ ¼ç·šï¼‰\n        for j in range(self.height + 1):\n            ctx.beginPath()\n            ctx.moveTo(0, j * CELL_SIZE)\n            ctx.lineTo(self.width * CELL_SIZE, j * CELL_SIZE)\n            ctx.stroke()\n \n ç¬¬å…«æ®µï¼šé€šç”¨ç¹ªåœ–å‡½å¼ _draw_image() \n æ­¤å‡½å¼è² è²¬ç•«åœ–ç‰‡åœ¨æŒ‡å®šæ ¼å­ä½ç½®ã€‚ éœ€è¦å‚³å…¥ï¼š \xa0 \xa0 ctx: è¦ç¹ªè£½çš„ç•«å¸ƒä¸Šä¸‹æ–‡ã€‚ \xa0 \xa0 img_key: è¦ç•«çš„åœ–ç‰‡éµï¼ˆä¾‹å¦‚ "blue_robot_e"ï¼‰ã€‚ \xa0 \xa0 (x, y): è¦ç•«åœ¨å“ªå€‹æ ¼å­ï¼ˆä»¥åœ°åœ–é‚è¼¯åº§æ¨™ç‚ºä¸»ï¼‰ã€‚ \xa0 \xa0 (w, h): åœ–ç‰‡çš„å¯¬èˆ‡é«˜ã€‚ æœƒè‡ªå‹•èª¿æ•´ç•«é¢ä½ç½®ï¼Œå°‡ y è»¸ä¸Šä¸‹åè½‰ï¼Œä½¿åŸé»åœ¨å·¦ä¸‹è§’ã€‚ \n     def _draw_image(self, ctx, img_key, x, y, w, h, offset_x=0, offset_y=0):\n        img = World._image_cache.get(img_key)\n        if img and img.complete and img.naturalWidth > 0:\n            px = x * CELL_SIZE + offset_x\n            py = (self.height - 1 - y) * CELL_SIZE + offset_y\n            ctx.drawImage(img, px, py, w, h)\n            return True\n        else:\n            print(f"âš ï¸ Image \'{img_key}\' not ready for drawing.")\n            return False\n \n ç¬¬ä¹æ®µï¼šç¹ªè£½ç‰†å£ _draw_walls() \n é€™æ®µæœƒå°‡å››å‘¨çš„ã€Œé‚Šç•Œç‰†ã€ç•«å‡ºä¾†ã€‚ åˆ©ç”¨ _draw_image ç•«å‡º north.png èˆ‡ east.pngã€‚ offset_x / offset_y ç”¨ä¾†å°é½Šåœ–ç‰‡ä½ç½®ï¼ˆä¸æœƒè“‹åˆ°æ ¼å­å…§ï¼‰ã€‚ \n     async def _draw_walls(self):\n        ctx = self.layers["walls"].getContext("2d")\n        ctx.clearRect(0, 0, self.width * CELL_SIZE, self.height * CELL_SIZE)\n        success = True\n\n        # ç¹ªè£½ä¸Šä¸‹å…©æ’çš„åŒ—ç‰†ï¼ˆé ‚éƒ¨èˆ‡åº•éƒ¨ï¼‰\n        for x in range(self.width):\n            success &= self._draw_image(ctx, "north", x, self.height - 1, CELL_SIZE, WALL_THICKNESS, offset_y=0)\n            success &= self._draw_image(ctx, "north", x, 0, CELL_SIZE, WALL_THICKNESS, offset_y=CELL_SIZE - WALL_THICKNESS)\n\n        # ç¹ªè£½å·¦å³å…©å´çš„æ±ç‰†ï¼ˆå·¦é‚Šèˆ‡å³é‚Šï¼‰\n        for y in range(self.height):\n            success &= self._draw_image(ctx, "east", 0, y, WALL_THICKNESS, CELL_SIZE, offset_x=0)\n            success &= self._draw_image(ctx, "east", self.width - 1, y, WALL_THICKNESS, CELL_SIZE, offset_x=CELL_SIZE - WALL_THICKNESS)\n\n        return success\n \n ç¬¬åæ®µï¼šé å…ˆè¼‰å…¥åœ–ç‰‡ _preload_images() \n æ­¤å‡½å¼æœƒè¼‰å…¥æ‰€æœ‰éœ€è¦ç”¨åˆ°çš„åœ–ç‰‡ï¼ˆç‰†å£èˆ‡æ©Ÿå™¨äººæœå‘åœ–ï¼‰ã€‚ åˆ©ç”¨ Promise å»ºç«‹åœ–ç‰‡è¼‰å…¥å®Œæˆçš„éåŒæ­¥äº‹ä»¶ï¼Œç¢ºä¿è¼‰å…¥æˆåŠŸã€‚ é€é await js.await_promise(js.Promise.all(...)) ç­‰å¾…æ‰€æœ‰åœ–ç‰‡è¼‰å…¥å®Œç•¢ã€‚ \n     async def _preload_images(self):\n        image_files = {\n            "blue_robot_e": "blue_robot_e.png",\n            "blue_robot_n": "blue_robot_n.png",\n            "blue_robot_w": "blue_robot_w.png",\n            "blue_robot_s": "blue_robot_s.png",\n            "north": "north.png",\n            "east": "east.png",\n        }\n\n        promises = []\n        for key, filename in image_files.items():\n            if key in World._image_cache and World._image_cache[key].complete:\n                continue\n\n            img = js.document.createElement("img")\n            img.crossOrigin = "Anonymous"\n            img.src = IMG_PATH + filename\n            World._image_cache[key] = img\n\n            def make_promise(img_element):\n                def executor(resolve, reject):\n                    def on_load(event):\n                        img_element.removeEventListener("load", on_load)\n                        img_element.removeEventListener("error", on_error)\n                        resolve(img_element)\n                    def on_error(event):\n                        img_element.removeEventListener("load", on_load)\n                        img_element.removeEventListener("error", on_error)\n                        reject(f"Failed to load image: {img_element.src}")\n                    img_element.addEventListener("load", on_load)\n                    img_element.addEventListener("error", on_error)\n                    if img_element.complete and img_element.naturalWidth > 0:\n                        resolve(img_element)\n                return js.Promise.new(executor)\n\n            promises.append(make_promise(img))\n\n        if not promises:\n            return True\n        try:\n            await js.await_promise(js.Promise.all(promises))\n            return True\n        except Exception as e:\n            print(f"ğŸš¨ Error during image preloading: {str(e)}")\n            return False\n \n ç¬¬åä¸€æ®µï¼šåˆå§‹åŒ–åœ°åœ–èˆ‡è³‡æº setup() \n setup() æ˜¯å»ºæ§‹å®Œä¸–ç•Œå¾Œå¿…é ˆå‘¼å«çš„åˆå§‹åŒ–å‡½å¼ã€‚ åŒ…å«è³‡æºè¼‰å…¥ã€åœ°åœ–æ ¼ç·šèˆ‡ç‰†å£çš„ç¹ªè£½ã€‚ ä½¿ç”¨ asyncio.sleep(0) æ˜¯ä¸€ç¨®ã€Œè®“å‡ºä¸»æ§æ¬Šçµ¦ç€è¦½å™¨ã€çš„æŠ€å·§ï¼Œé¿å…å¡ä½ç•«é¢ã€‚ \n     async def setup(self):\n        # å˜—è©¦ä¸‰æ¬¡è¼‰å…¥åœ–ç‰‡è³‡æºï¼Œè‹¥è¼‰å…¥æˆåŠŸå‰‡è·³å‡ºè¿´åœˆ\n        for _ in range(3):\n            if await self._preload_images():\n                break\n            await asyncio.sleep(0.5)  # ç­‰å¾… 0.5 ç§’å¾Œå†è©¦\n        else:\n            print("ğŸš¨ Failed to preload images after retries.")\n            return False\n\n        await asyncio.sleep(0)  # æ”¾æ£„ç•¶å‰äº‹ä»¶è¿´åœˆåŸ·è¡Œæ¬Šï¼Œç¢ºä¿ UI æœ‰æ©Ÿæœƒæ›´æ–°\n\n        self._draw_grid()  # ç¹ªè£½åº•å±¤çš„ç¶²æ ¼\n\n        # å˜—è©¦ä¸‰æ¬¡ç¹ªè£½ç‰†å£ï¼Œç­‰å¾…åœ–ç‰‡è¼‰å…¥å®Œæˆ\n        for _ in range(3):\n            if await self._draw_walls():\n                break\n            await asyncio.sleep(0.5)\n        else:\n            print("ğŸš¨ Failed to draw walls after retries.")\n            return False\n\n        # æœ€å¾Œç¢ºèªæ©Ÿå™¨äººæœå‘æ±çš„åœ–ç‰‡æ˜¯å¦å¯ç”¨\n        robot_img_key = "blue_robot_e"\n        if not (World._image_cache.get(robot_img_key) and World._image_cache[robot_img_key].complete):\n            print(f"ğŸš¨ Robot image \'{robot_img_key}\' still not ready after setup!")\n            return False\n\n        return True  # æ‰€æœ‰æ­¥é©ŸæˆåŠŸå¾Œå›å‚³ True\n \n ç¬¬åäºŒæ®µï¼šæ©Ÿå™¨äººé¡åˆ¥ Robot \n æ¯å€‹ Robot ç‰©ä»¶éƒ½æœ‰åº§æ¨™èˆ‡é¢å‘ï¼Œä¸¦èƒ½ç•«å‡ºè‡ªå·±èˆ‡ç§»å‹•çš„è»Œè·¡ã€‚ å‚³å…¥ world æ˜¯ç‚ºäº†èƒ½å–å¾—åœ°åœ–çš„ç•«å¸ƒè³‡è¨Šã€‚ \n class Robot:\n    def __init__(self, world, x, y):\n        self.world = world\n        self.x = x - 1  # å°‡äººé¡ç¿’æ…£çš„ 1-index è½‰æˆ 0-index\n        self.y = y - 1\n        self.facing = "E"  # é è¨­æœæ±ï¼ˆå³é‚Šï¼‰\n        self._facing_order = ["E", "N", "W", "S"]  # å·¦è½‰æ™‚çš„é †åº\n\n        self.robot_ctx = world.layers["robots"].getContext("2d")   # æ©Ÿå™¨äººåœ–å±¤\n        self.trace_ctx = world.layers["objects"].getContext("2d")  # ç§»å‹•è»Œè·¡åœ–å±¤\n\n        self._draw_robot()  # åˆå§‹ç•«ä¸Šæ©Ÿå™¨äºº\n \n _robot_image_key()ï¼šä¾é¢å‘å›å‚³åœ–ç‰‡éµ \n æ ¹æ“šé¢å‘å›å‚³å°æ‡‰çš„åœ–ç‰‡éµï¼Œä¾‹å¦‚  E  æœƒå›å‚³  "blue_robot_e" ã€‚ \n     def _robot_image_key(self):\n        return f"blue_robot_{self.facing.lower()}"\n \n _draw_robot()ï¼šç•«å‡ºæ©Ÿå™¨äººåœ–åƒ \n å…ˆæ¸…é™¤åŸåœ–ï¼Œé¿å…ç•™ä¸‹æ®˜å½±ï¼Œå†ç•«ä¸Šæ–°çš„æ©Ÿå™¨äººåœ–åƒã€‚ \n     def _draw_robot(self):\n        self.robot_ctx.clearRect(0, 0, self.world.width * CELL_SIZE, self.world.height * CELL_SIZE)\n        self.world._draw_image(self.robot_ctx, self._robot_image_key(), self.x, self.y, CELL_SIZE, CELL_SIZE)\n \n _draw_trace()ï¼šç•«å‡ºç§»å‹•è·¯å¾‘ \n æ­¤æ–¹æ³•ç•«å‡ºæ©Ÿå™¨äººå¾èµ·é»åˆ°çµ‚é»çš„ç›´ç·šè»Œè·¡ã€‚ \n     def _draw_trace(self, from_x, from_y, to_x, to_y):\n        ctx = self.trace_ctx\n        ctx.strokeStyle = "#d33"  # ç´…è‰²ç·šæ¢\n        ctx.lineWidth = 2\n        ctx.beginPath()\n        fx = from_x * CELL_SIZE + CELL_SIZE / 2\n        fy = (self.world.height - 1 - from_y) * CELL_SIZE + CELL_SIZE / 2\n        tx = to_x * CELL_SIZE + CELL_SIZE / 2\n        ty = (self.world.height - 1 - to_y) * CELL_SIZE + CELL_SIZE / 2\n        ctx.moveTo(fx, fy)\n        ctx.lineTo(tx, ty)\n        ctx.stroke()\n \n ç¬¬åä¸‰æ®µï¼šæ©Ÿå™¨äººè¡Œèµ°èˆ‡è½‰å½ \n walk(steps)ï¼šå‰é€² \n æ ¹æ“šé¢å‘æ–¹å‘æ›´æ–°ä½ç½®ï¼Œä¸¦ç•«å‡ºç§»å‹•ã€‚ è¶…å‡ºåœ°åœ–é‚Šç•Œæ™‚åœæ­¢ã€‚ \n     async def walk(self, steps=1):\n        for _ in range(steps):\n            from_x, from_y = self.x, self.y\n            dx, dy = 0, 0\n            if self.facing == "E": dx = 1\n            elif self.facing == "W": dx = -1\n            elif self.facing == "N": dy = 1\n            elif self.facing == "S": dy = -1\n\n            next_x = self.x + dx\n            next_y = self.y + dy\n\n            if 0 <= next_x < self.world.width and 0 <= next_y < self.world.height:\n                self.x, self.y = next_x, next_y\n                self._draw_trace(from_x, from_y, self.x, self.y)\n                self._draw_robot()\n                await asyncio.sleep(0.2)\n            else:\n                print("ğŸš¨ Hit a wall, stop moving!")\n                break\n \n turn_left()ï¼šå·¦è½‰ \n å¾ç›®å‰é¢å‘å‘å·¦è½‰ä¸€æ ¼ï¼Œæ›´æ–°åœ–ç‰‡ã€‚ \n     async def turn_left(self):\n        idx = self._facing_order.index(self.facing)\n        self.facing = self._facing_order[(idx + 1) % 4]  # å¾ªç’°è½‰å‘\n        self._draw_robot()\n        await asyncio.sleep(0.3)\n \n ç¬¬åå››æ®µï¼šç¶å®šæ§åˆ¶ _bind_controls(robot) \n å®šç¾©ä¸€å€‹ç§æœ‰æ–¹æ³•ï¼Œå°‡æ§åˆ¶è¡Œç‚ºç¶å®šçµ¦ç‰¹å®š robot å¯¦ä¾‹ã€‚ \n def _bind_controls(robot: Robot):\n \n éµç›¤æ§åˆ¶ \n è¨­å®š j â†’ å‰é€²ï¼Œi â†’ å·¦è½‰ã€‚ ä½¿ç”¨ asyncio.create_task() ä»¥éåŒæ­¥æ–¹å¼åŸ·è¡Œï¼Œé¿å…å¡ä½ä¸»åŸ·è¡Œç·’ã€‚ \n     def handle_key(event):\n        try:\n            if event.key == \'j\':\n                asyncio.create_task(robot.walk(1))     # æŒ‰ä¸‹ j ç§»å‹•ä¸€æ­¥\n            elif event.key == \'i\':\n                asyncio.create_task(robot.turn_left()) # æŒ‰ä¸‹ i å·¦è½‰\n        except Exception as e:\n            print(f"ğŸš¨ Error in key handler: {e}")\n \n æŒ‰éˆ•é»æ“Šæ§åˆ¶ \n é€™å…©å€‹å‡½å¼ç¶å®šåˆ° UI è£¡çš„æŒ‰éˆ•ï¼ˆå‰é¢ _init_html() ä¸­å®šç¾©çš„ï¼‰ã€‚ åŠŸèƒ½èˆ‡éµç›¤æ§åˆ¶ä¸€æ¨£ï¼Œåªæ˜¯é€éæ»‘é¼ é»æ“Šã€‚ \n     def handle_move_button(event):\n        try:\n            asyncio.create_task(robot.walk(1))\n        except Exception as e:\n            print(f"ğŸš¨ Error in move button handler: {e}")\n\n    def handle_turn_button(event):\n        try:\n            asyncio.create_task(robot.turn_left())\n        except Exception as e:\n            print(f"ğŸš¨ Error in turn button handler: {e}")\n \n è¨»å†Šäº‹ä»¶åˆ° JavaScript \n å°‡ handle_key() è¨»å†Šç‚ºå…¨åŸŸ py_handle_keyï¼Œè®“ JavaScript å±¤ç´šå¯ä»¥å‘¼å« Pythonã€‚ \n å°‡æŒ‰éˆ•çš„é»æ“Šäº‹ä»¶å°æ‡‰åˆ° Python å®šç¾©çš„æ§åˆ¶å‡½å¼ã€‚ \n     js.window.py_handle_key = handle_key\n    js.document.addEventListener(\'keydown\', js.Function("event", "py_handle_key(event);"))\n    js.window.py_handle_move_button = handle_move_button\n    js.window.py_handle_turn_button = handle_turn_button\n    robot.world.move_button.addEventListener(\'click\', js.Function("event", "py_handle_move_button(event);"))\n    robot.world.turn_button.addEventListener(\'click\', js.Function("event", "py_handle_turn_button(event);")) \n ç¬¬åäº”æ®µï¼šåˆå§‹åŒ–ä¸¦å•Ÿå‹• init() \n æä¾›ä¸€å€‹ä½¿ç”¨è€…ç°¡å–®å¿«é€Ÿåˆå§‹åŒ–æ•´å€‹ä¸–ç•Œèˆ‡æ©Ÿå™¨äººçš„ä»‹é¢ã€‚ \n def init(world_width=10, world_height=10, robot_x=1, robot_y=1):\n \n åŒ…è£ç‚ºéåŒæ­¥ä»»å‹™ \n é€™å€‹åŒ…è£å‡½å¼ async def _inner() æ˜¯ç”¨ä¾†å¯¦ä½œå…§éƒ¨éåŒæ­¥é‚è¼¯ã€‚ \n     async def _inner():\n        world = World(world_width, world_height)  # å»ºç«‹ä¸–ç•Œ\n        if not await world.setup():               # ç­‰å¾…ä¸–ç•Œåˆå§‹åŒ–å®Œæˆ\n            raise RuntimeError("World setup failed!")  # è‹¥å¤±æ•—å‰‡ä¸Ÿå‡ºéŒ¯èª¤\n\n        robot = Robot(world, robot_x, robot_y)    # å»ºç«‹æ©Ÿå™¨äºº\n        _bind_controls(robot)                     # ç¶å®šæ§åˆ¶äº‹ä»¶\n        return world, robot                       # å‚³å› world å’Œ robot ç‰©ä»¶\n \n å»ºç«‹ä¸¦å•Ÿå‹•éåŒæ­¥ä»»å‹™ \n     return asyncio.create_task(_inner())\n \n å›å‚³ä¸€å€‹éåŒæ­¥ä»»å‹™ï¼ˆasyncio.Taskï¼‰ï¼Œè®“ä½¿ç”¨è€…å¯ä»¥é€™æ¨£å‘¼å«ï¼š \n world, robot = await init(10, 10, 1, 1)\n \n ç­‰å¾… init() çš„çµæœå¾Œï¼Œå°±å¯ä»¥ç›´æ¥æ§åˆ¶ robot.walk() æˆ– robot.turn_left()ã€‚ \n', 'tags': '', 'url': 'robot.py.html'}, {'title': 'Example2', 'text': 'è‡ªè¡Œå®šç¾©æ©Ÿå™¨äººå³è½‰çš„éåŒæ­¥åŸ·è¡Œå‡½å¼: \n åŸ·è¡Œ turn_right ç¨‹å¼ ç¯„ä¾‹ã€‚ \n import robot\nimport asyncio\n\n# å®šç¾©å³è½‰çš„éåŒæ­¥å‡½å¼\nasync def turn_right(bot):\n    for _ in range(3):\n        await bot.turn_left()\n\nasync def main():\n    world, bot = await robot.init(10, 10, 1, 1)\n    print("æ©Ÿå™¨äººé–‹å§‹è¡Œå‹•")\n    await bot.turn_left()\n    await bot.walk(9)\n    await turn_right(bot) \n    print("æ©Ÿå™¨äººå®Œæˆè¡Œå‹•")\n\n# main() è®“å‡ºåŸ·è¡Œæ§åˆ¶æ¬Šï¼Œç”±é é¢ä¸­çš„ even loop æ±ºå®šä½•æ™‚åŸ·è¡Œ main()\nawait main()\n \n', 'tags': '', 'url': 'Example2.html'}, {'title': 'Pyodide3', 'text': 'Pyodide3 å‰‡åœ¨  Pyodide  èˆ‡  Pyodide2  é é¢æ¶æ§‹ä¸‹ï¼Œé€²ä¸€æ­¥å°å…¥  robot_w_world.py ï¼Œåœ¨æ—¢æœ‰çš„æ°´å¹³åœç‰†  north.png  èˆ‡å‚ç›´åœç‰†  east.png  æª”æ¡ˆä¹‹å¤–ï¼ŒåŠ å…¥  carrot.png ã€ grass.png  èˆ‡  pale_grass.png  ç­‰åœ–æª”ã€‚ä¸¦ä¸”æ“´å……å¯å¾ URL è®€é€² json æ ¼å¼çš„ world è®Šæ•¸åŠŸèƒ½ï¼Œä»¥ä¾¿è£½ä½œå‡ºæ›´å¤šå…ƒçš„å ´æ™¯ä»»å‹™ï¼Œè¦æ±‚æ©Ÿå™¨äººåŸ·è¡Œã€‚ \n å…¶ä¸­ src URL è®Šæ•¸ï¼Œå¯ä»¥å°‡ç¶²è·¯ä¸Šçš„æ©Ÿå™¨äººæ§åˆ¶ç¨‹å¼å°å…¥ Pyodide3 é é¢å¤–ï¼Œworld URL è®Šæ•¸å‰‡å¯ä»¥å°å…¥æºè‡ª  Reeborg  æ©Ÿå™¨äººç¨‹å¼æ‰€è¨­å®šçš„ json æ ¼å¼å ´æ™¯ã€‚ \n ç”±æ–¼ Reeborg ç³»çµ±ä¸­çš„ png åœ–æª”å‡éé€æ˜èƒŒæ™¯ï¼Œ robot_w_world.py \xa0å¿…é ˆåˆ©ç”¨ HTML ä¸­çš„ CANVASï¼Œå°‡é—œéµçš„ç™½è‰²èƒŒæ™¯ï¼Œä»¥é€æ˜çš„æ–¹å¼é¡¯ç¤ºã€‚ \n src URL è®Šæ•¸è®€é€²  turn_right ç¨‹å¼ ï¼Œè€Œ world URL è®Šæ•¸å‰‡è®€é€²  harvest2.json ï¼ŒåŸ·è¡Œ çµæœ ã€‚ \n è®€é€²  harvest3.json , åŸ·è¡Œ çµæœ ã€‚ \n \n \n \n version   hello   1 add to 100   æ©Ÿå™¨äººå·¡é‚   è‡ªç”±è¡Œ   numpy_ode \n  Ace Editor Scripts  \n \n \n \n \n \n \n \n \n  Editor 1  \n \n Run   Output   æ¸…é™¤è¼¸å‡ºå€   Reload \n \n \n \n \n \n å¾ 1 ç´¯åŠ åˆ° 100 part2: \n 1 add to 100 \n  Editor 2  \n \n Run   Output   æ¸…é™¤è¼¸å‡ºå€   Reload \n \n \n \n \n \n \n \n', 'tags': '', 'url': 'Pyodide3.html'}, {'title': 'png_files', 'text': 'åˆ©ç”¨  robot_w_world.py  å°‡ png åœ–æª”å¯¦è¸ã€Œé—œéµè‰²é€æ˜ã€: ä½œæ³•æ˜¯åœ¨ç¨‹å¼ç¢¼ä¸­é¡å¤–æ·»åŠ åƒç´ è™•ç†çš„é‚è¼¯ã€‚Canvas çš„ drawImage æ–¹æ³•æœ¬èº«ä¸æœƒè‡ªå‹•è­˜åˆ¥ä¸¦è·³éç‰¹å®šé¡è‰²çš„åƒç´ ï¼Œæ‰€ä»¥æˆ‘å€‘å¿…é ˆæ‰‹å‹•ä»‹å…¥ã€‚ è™•ç†æ–¹æ³•: è¦è®“  robot_w_world.py  å¯¦ç¾é€™å€‹åŠŸèƒ½ï¼Œå¿…é ˆä¿®æ”¹ _draw_image æ–¹æ³•ï¼Œæˆ–è€…åœ¨åœ–ç‰‡è¼‰å…¥å¾Œé€²è¡Œé è™•ç†ã€‚æœ€ç›´æ¥çš„æ–¹æ³•æ˜¯åœ¨ç¹ªè£½æ•¸å­—åœ–ç‰‡æ™‚ï¼Œè®€å–å…¶åƒç´ æ•¸æ“šï¼Œä¸¦å°‡ç‰¹å®šé¡è‰²ï¼ˆä¾‹å¦‚ç™½è‰²ï¼‰çš„åƒç´ çš„ Alpha å€¼è¨­ç½®ç‚º 0ã€‚ é€™æœƒæ¶‰åŠä»¥ä¸‹æ­¥é©Ÿï¼š \xa0 \xa0 å–å¾—åœ–ç‰‡åƒç´ è³‡æ–™ï¼š å°‡åœ–ç‰‡ç¹ªè£½åˆ°ä¸€å€‹è‡¨æ™‚çš„ã€çœ‹ä¸è¦‹çš„ Canvas ä¸Šã€‚ \xa0 \xa0 è®€é€²æ‰€æœ‰åƒç´ ï¼š è®€å–é€™å€‹è‡¨æ™‚ Canvas çš„åƒç´ è³‡æ–™ã€‚ \xa0 \xa0 ä¿®æ”¹åƒç´ çš„ Alpha å€¼ï¼š æª¢æŸ¥æ¯å€‹åƒç´ çš„ RGB å€¼ï¼Œå¦‚æœå®ƒç¬¦åˆé è¨­çš„ã€Œé—œéµè‰²ã€ï¼ˆä¾‹å¦‚ï¼Œç´”ç™½è‰² (255, 255, 255)ï¼‰ï¼Œå°±å°‡å…¶ Alpha (é€æ˜åº¦) å€¼è¨­ç‚º 0ã€‚ \xa0 \xa0 å°‡ä¿®æ”¹å¾Œçš„åƒç´ è³‡æ–™æ”¾å›ï¼š å°‡ä¿®æ”¹å¾Œçš„åƒç´ è³‡æ–™é‡æ–°æ”¾å›è‡¨æ™‚ Canvasã€‚ \xa0 \xa0 ç¹ªè£½è‡¨æ™‚ Canvasï¼š æœ€å¾Œï¼Œå°‡é€™å€‹è™•ç†éçš„è‡¨æ™‚ Canvas ç¹ªè£½åˆ°æˆ‘å€‘å¯¦éš›è¦é¡¯ç¤ºçš„åœ–å±¤ä¸Šã€‚ ç¼ºé»èˆ‡è€ƒé‡: \xa0 \xa0 æ€§èƒ½å½±éŸ¿ï¼š åƒç´ ç´šçš„è™•ç†æ˜¯ç›¸å°è€—è²»è³‡æºçš„ï¼Œç‰¹åˆ¥æ˜¯ç•¶æœ‰å¾ˆå¤šæ•¸å­—éœ€è¦é¡¯ç¤ºæ™‚ã€‚é€™å¯èƒ½æœƒå°è‡´å‹•ç•«æˆ–åˆå§‹åŠ è¼‰æ™‚å‡ºç¾è¼•å¾®çš„å»¶é²ã€‚ \xa0 \xa0 è¤‡é›œæ€§å¢åŠ ï¼š ç¨‹å¼ç¢¼æœƒè®Šå¾—æ›´è¤‡é›œï¼Œéœ€è¦è™•ç† Canvas API çš„ getImageData å’Œ putImageData æ–¹æ³•ã€‚ \xa0 \xa0 é—œéµè‰²é¸æ“‡ï¼š æ‚¨éœ€è¦ç¢ºå®šä¸€å€‹æ‰€æœ‰æ•¸å­—åœ–ç‰‡èƒŒæ™¯éƒ½ä¸€è‡´çš„ã€Œé—œéµè‰²ã€ã€‚å¦‚æœæœ‰äº›æ•¸å­—åœ–ç‰‡èƒŒæ™¯æ˜¯ç™½è‰²ï¼Œæœ‰äº›æ˜¯æ·ºç°è‰²ï¼Œé€™å€‹æ–¹æ³•å°±æœƒå¤±æ•ˆã€‚ \n', 'tags': '', 'url': 'png_files.html'}, {'title': 'Harvest', 'text': 'Pyodide3  åœ¨é é¢ä¸­å°å…¥  robot_w_world.py \xa0å¾Œï¼Œå¯ä»¥é€é\xa0 pyodide3_harvest_ex1.py \xa0ç¹¼æ‰¿ robot ç‰©ä»¶ï¼ŒåŠ å…¥è¾²ä½œç‰©æ¡æ”¶åŠŸèƒ½ã€‚ \n ä½†å› ç‚º\xa0 robot_w_world.py \xa0ç‰ˆæœ¬ä¸­çš„ trace ç¹ªè£½åœ–å±¤ä¸¦æœªç¨ç«‹ï¼Œé™¤äº†æ¡æ”¶è¾²ä½œç‰©ä¹‹å¾Œçš„åº§æ¨™èƒŒæ™¯æœƒå¾ pale_grass.png ç½®æ›ç‚º grass.png å¤–ï¼Œè¾²ä½œç‰©æ¡æ”¶å¾Œçš„åº§æ¨™ç•«é¢åˆ·æ–°æœƒä¸€ä½µå°‡ä¹‹å‰çš„æ©Ÿå™¨äººè¡Œèµ°è·¯å¾‘åˆªé™¤ï¼Œå› æ­¤å¾ŒçºŒç‰ˆæœ¬å¿…é ˆå°‡æ‰€æœ‰ä¸åŒå±¬æ€§çš„åœ–åƒï¼Œä»¥å„è‡ªçš„ç¨ç«‹åœ–å±¤é€²è¡Œç¹ªè£½ï¼Œæ‰ä¸æœƒäº’ç›¸å½±éŸ¿ä¸‹ï¼Œç”¢ç”ŸéŒ¯èª¤çš„æ©Ÿå™¨äººè¾²ä½œç‰©æ¡æ”¶æ¨¡æ“¬ã€‚ \n åœ¨ Pyodide3 åŸ·è¡Œ\xa0 pyodide3_harvest_ex1.py ï¼ŒåŸ·è¡Œ çµæœ ã€‚ \n', 'tags': '', 'url': 'Harvest.html'}]};